<!DOCTYPE html>
<html lang="en">

<head>
    <title>House attendance statistics</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- FONT AWESOME -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
        integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <!-- BOOTSTRAP -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!-- CUSTOM STYLESHEET -->
    <link rel="stylesheet" href="./styles/tgif.css">
</head>

<body>
    <div class="container">

        <!-- HEADER -->
        <header class="row mb-2">
            <div class="col-md-6">
                <a href="#"><img src="images/TGIF_logo.png" alt="TGIF logo" class="custom-logo"></a>
            </div>
            <div class="col-md-6 d-flex flex-wrap align-content-center justify-content-end">
                <div>
                    <i class="far fa-envelope"></i>
                    <a href="mailto:info@tgif.net">info@tgif.net</a>
                </div>
            </div>
        </header>

        <!-- NAVBAR -->
        <nav class="navbar navbar-expand-sm bg-light border border-secondary rounded mb-5">
            <ul class="navbar-nav">
                <li class="nav-item"><a href="./index.html" class="nav-link">Home</a></li>
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">
                        Congress 113
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="./house-data.html" class="dropdown-item text-primary">House</a></li>
                        <li><a href="./senate-data.html" class="dropdown-item text-primary">Senate</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle active" data-toggle="dropdown">
                        Attendance
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#" class="dropdown-item text-primary active">House</a></li>
                        <li><a href="./senate-attendance.html" class="dropdown-item text-primary">Senate</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">
                        Party Loyalty
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="./house-loyalty.html" class="dropdown-item text-primary">House</a></li>
                        <li><a href="./senate-loyalty.html" class="dropdown-item text-primary">Senate</a></li>
                    </ul>
                </li>
            </ul>
        </nav>


        <!-- CONTENT -->
        <main>
            <div class="row">
                <div class="col-md-6 mb-5">
                    <h2>Attendance</h2>
                    <p>The Constitution specifies that a majority of members constitutes a quorum to do business in each
                        house.
                        Representatives and senators rarely force the presence of a quorum by demanding quorum calls;
                        thus,
                        in
                        most cases, debates continue even if a majority is not present.</p>

                    <p>The Senate uses roll-call votes; a clerk calls out the names of all the senators, each senator
                        stating
                        "aye" or "no" when his or her name is announced. The House reserves roll-call votes for the most
                        formal
                        matters, as a roll-call of all 435 representatives takes quite some time; normally, members vote
                        by
                        electronic device. In the case of a tie, the motion in question fails. In the Senate, the Vice
                        President
                        may (if present) cast the tiebreaking vote.</p>
                </div>
                <div class="col-md-6 mb-5 text-center ">
                    <h2>House at a glance</h2>
                    <div class="display-before-load">
                        <div class="d-flex flex-column align-items-center">
                            <div class="col-sm-12 text-info text-center p-2 mb-2">
                                Loading...
                            </div>
                            <div class="lds-ripple">
                                <div></div>
                                <div></div>
                            </div>
                        </div>
                    </div>
                    <table class="table table-hover mt-3 display-after-load">
                        <thead>
                            <tr>
                                <th>Party</th>
                                <th>No. of Reps</th>
                                <th>% Voted w/ Party</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Republican</td>
                                <td id="Rep-members"></td>
                                <td id="Rep-avg-VWP"></td>
                            </tr>
                            <tr>
                                <td>Democrat</td>
                                <td id="Dem-members"></td>
                                <td id="Dem-avg-VWP"></td>
                            </tr>
                            <tr>
                                <td>Independent</td>
                                <td id="Ind-members"></td>
                                <td id="Ind-avg-VWP"></td>
                            </tr>
                            <tr>
                                <td>Total</td>
                                <td id="Total-members"></td>
                                <td id="Total-avg-VWP"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <hr class="mb-5">
            <div class="row text-center ">
                <div class="col-md-6 mb-5">
                    <h2>Least Engaged</h2>
                    <h4>(Bottom 10% Attendance)</h4>
                    <div class="display-before-load">
                        <div class="d-flex flex-column align-items-center">
                            <div class="col-sm-12 text-info text-center p-2 mb-2">
                                Loading...
                            </div>
                            <div class="lds-ripple">
                                <div></div>
                                <div></div>
                            </div>
                        </div>
                    </div>
                    <table class="table table-hover mt-3 display-after-load">
                        <thead>
                            <tr>
                                <th>Representative</th>
                                <th>No. of Missed Votes</th>
                                <th>% Missed</th>
                            </tr>
                        </thead>
                        <tbody id="least-table">

                        </tbody>
                    </table>
                </div>
                <div class="col-md-6 mb-5">
                    <h2>Most Engaged</h2>
                    <h4>(Top 10% Attendance)</h4>
                    <div class="display-before-load">
                        <div class="d-flex flex-column align-items-center">
                            <div class="col-sm-12 text-info text-center p-2 mb-2">
                                Loading...
                            </div>
                            <div class="lds-ripple">
                                <div></div>
                                <div></div>
                            </div>
                        </div>
                    </div>
                    <table class="table table-hover mt-3 display-after-load">
                        <thead>
                            <tr>
                                <th>Representative</th>
                                <th>No. of Missed Votes</th>
                                <th>% Missed</th>
                            </tr>
                        </thead>
                        <tbody id="most-table">

                        </tbody>
                    </table>
                </div>
            </div>
        </main>
        <footer class="bg-light text-center mt-5 py-4 border border-secondary rounded">
            <p class="m-0">&copy; TGIF 2019 | All Rights Reserved</p>
        </footer>
    </div>

    <!-- BOOTSTRAP -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <!-- JS SCRIPTS -->
    <script src="./javascript/view_final_live.js"></script>
    <script src="./javascript/model.js"></script>
    <script>
        var chamber = "house";
        fetchRemoteData(chamber).then(function () {
            displayControl();
            atAGlanceData(membersArray);
            buildAtAGlanceTable();
            ranking(membersArray, "missed_votes_pct", 10, 10);
            buildStatsTable("least-table", higherResultArr, "missed_votes", "missed_votes_pct");
            buildStatsTable("most-table", lowerResultArr, "missed_votes", "missed_votes_pct");
        });
    </script>
</body>

</html>